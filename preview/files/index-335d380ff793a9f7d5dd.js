define(["classnames","react","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[5249],{20973:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var a=o(n(76917));t.def={queryId:a.id}},35847:function(e,t,n){"use strict";var r=n(7896),i=n(31461),o=n(22303),a=n.n(o),c=n(12650),l=n.n(c),s=n(20449),d=n(46664),u=n(23087),f=n(16197),m=n(8779),v=n(85234),h=n(36761),p=n(9543),b=n(76931);const k=["className","title","titleTag","subtitle","href","onLinkClick","onInfoClick","labels"],E={wrapper:a()(m.j2,p.aP,p.Vr,p.Jt,p.xN),detailsWrapper:a()(p.Si,m.j2,p.$G),linkWrapper:a()(m.j2,p.Hi,p.rF,p.$G,p.fo,v.N6,v.sy9),link:a()(m.co,h.Epl,p.MR),sideInfoWrapper:a()(m.kO,m.mI)};t.Z=e=>{const{className:t,title:n,titleTag:o=u.rh.h2,subtitle:c,href:g,onLinkClick:N,onInfoClick:_,labels:y}=e,w=(0,i.Z)(e,k),Z=l().createElement(b.Z,{"aria-label":null==y?void 0:y.info,onClick:_});return l().createElement("div",(0,r.Z)({className:a()(E.wrapper,t,!_&&p.rF)},w),l().createElement("div",{className:E.detailsWrapper},l().createElement(f.ZP,{tag:o,className:p.KS},n&&l().createElement(f.ZP,{tag:u.rh.div,preset:u.j3.h2,className:a()(m.j2,p.$G)},n),c&&l().createElement(f.ZP,{tag:u.rh.div,preset:u.j3.h2,font:u.Zx.serif},c)),_&&l().createElement("span",{className:a()(v.FEU,g&&y&&m.tb)},Z)),l().createElement("div",{className:E.linkWrapper},g&&y&&_&&l().createElement("div",{className:E.sideInfoWrapper},Z),g&&y&&l().createElement(s.Z,{onClick:N,className:a()(E.link,h.Epl),href:g,size:d.h.large},y.link)))}},62003:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7896),i=n(12650),o=n.n(i),a=n(3475),c=n(40691),l=n(56766),s=n(30670),d=n(69226),u=n(75625),f=n(25265);n(22303);let m,v;!function(e){e.inherit="inherit",e.default="default",e.monochromeDark="monochromeDark",e.monochromeLight="monochromeLight"}(m||(m={})),function(e){e.inherit="inherit",e.hebe="hebe",e.sephora="sephora",e.designer="designer",e.test="test",e.light="light",e.dark="dark",e.monochrome="monochrome"}(v||(v={}));const h="_LM";m.inherit,m.default,m.monochromeLight,m.monochromeDark,v.inherit,v.hebe,v.sephora,v.designer,v.test,v.inherit,v.light,v.dark,v.monochrome,v.inherit,m.inherit;var p=()=>{const[{canSlidePrev:e,canSlideNext:t,isAnimating:n,labels:i,dataTestIds:m}]=(0,s.y)(d.ZP);let v,p,b,k;return i&&(v=i.forwardButton,p=i.backwardButton),m&&(b=m.forwardButton,k=m.backwardButton),e||t||n?o().createElement("div",{className:h},(e||n)&&o().createElement(u.Z,(0,r.Z)({backwardButtonLabel:p},k&&{"data-testid":k}),o().createElement(l.Z,(0,r.Z)({src:a.Z},p&&{label:p}))),(t||n)&&o().createElement(f.Z,(0,r.Z)({forwardButtonLabel:v},b&&{"data-testid":b}),o().createElement(l.Z,(0,r.Z)({src:c.Z},v&&{label:v})))):null}},36506:function(e,t){"use strict";function n(e,t){let{title:n,subtitle:r,description:i,uri:o}=e,{shouldHaveTitle:a=!0,customTitleTag:c,labels:l}=t;if(a)return Object.assign({title:n,subtitle:r||void 0},i&&{description:i},c&&{titleTag:c},o&&{href:o,labels:{link:l.seeMoreLink}})}t.Z=(e,t)=>{let{collection:r}=e;const{labels:i,shouldHaveTitle:o=!0,disableDynamicNavigation:a=!1}=t;return{carousel:{labels:{skipForward:i.skipForward,skipBackward:i.skipBackward},disableDynamicNavigation:a},header:o?n(r,t):void 0}}},76931:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(7896),i=n(12650),o=n.n(i),a=n(22303),c=n.n(a),l=n(78854),s=n(56766),d=n(51535),u=n(72279),f=n(57575);var m=e=>o().createElement(d.Z,(0,r.Z)({preset:u.Wn.transparent},e),o().createElement(s.Z,{src:l.Z,size:"s",color:"custom",className:c()(f.hH1)}))},88099:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});const r={sephora:"SEPHORA",default:"DEFAULT",designer:"DESIGNER",statement:"STATEMENT"};function i(e){return Object.keys(r).reduce(((t,n)=>{var i;return t["is"+(i=n,i.charAt(0).toUpperCase()+i.slice(1))]=()=>(null==e?void 0:e.name)===r[n],t}),{})}const o=e=>{var t;return{hasExperienceStickyBar:!!(null==e||null==(t=e.theme)?void 0:t.logo),experienceName:i(e)}}},76172:function(e,t,n){"use strict";n.d(t,{MQ:function(){return f},ll:function(){return r},oZ:function(){return u},rT:function(){return m},yJ:function(){return p}});const r=4,i="ern:collection:pcc:by-trends",o=e=>e.split("/"),a={discreteFilters:[{key:"media.media_target.keyword",options:["appNew"]}]},c={not:[{field:"source",terms:["faf3e180-7859-4e06-9ea8-2100cc371f88"]}]},l=(e,t,n)=>{const r=s(e,n);if(r&&r.length>0){var i;return{discreteFilters:[...null!=(i=a.discreteFilters)?i:[],{key:t,options:r}]}}return a},s=(e,t)=>{var n;const r=null==(n=o(e))?void 0:n[1];return r?[r]:t},d=(e,t)=>{let{brandIds:n,curatorIds:r}=t;var c;switch(null==(c=o(e))?void 0:c[0]){case"ern:collection:pcc:by-author":case i:return l(e,"creator.creator_id",((e,t)=>(void 0===t&&(t=[]),e===i?["0129692c-40bc-41ab-987e-5e8b054bbe94"]:t))(e,r));case"ern:collection:pcc:by-brand":case"ern:collection:pcc:brands-you-follow":return l(e,"brand.keyword",n);default:return a}},u=e=>{var t;return"by-brand"===(null==(t=e.split(":"))?void 0:t[3])},f=e=>{var t;return"carousel_a."+(null==(t=e.split(":").pop())?void 0:t.replace("-"," "))+".collection"},m=(e,t)=>"collection"===e&&Boolean(t);var v;!function(e){e.AND="and",e.OR="or",e.NOT="not"}(v||(v={}));const h=(e,t)=>{const n={...e};return Object.values(v).forEach((r=>{(null==t?void 0:t[r])&&(n[r]=[...e[r]||[],...t[r]||[]])})),n},p=e=>{var t,n;const{entity:{id:r},context:{brandIds:a,curatorIds:l,collectionId:f}}=e,m=d(r,{brandIds:a||[],curatorIds:l||[]});var v;const p=null!=(v=null==(t=s(r,a))?void 0:t[0])?v:"",b=new RegExp(/ern:brand::([A-Z0-9]){3}/).test(p),k={not:[{terms:[(null==(n=null==f?void 0:f.split(":"))?void 0:n[3])||""],field:"id"}]};var E;return{id:r,entitiesCount:10,filters:m,sortOptions:(null==(E=o(r))?void 0:E[0])===i?[{field:"online_from",direction:"desc"},{field:"updated_at",direction:"desc"}]:[{field:"scores.popularity_score_7d_v1",direction:"desc"}],query:h(c,k),noBrand:!(u(r)&&b),brandId:b?p:""}}},5008:function(e,t,n){"use strict";n.d(t,{L_:function(){return c},U4:function(){return a},gy:function(){return l}});var r=n(37798),i=n.n(r),o=n(56926);const a="VISIBILITY_INFO$SHOW_RECO_ADV_VISIBILITY_INFO_EVENT",c={name:o.eF,context:{customActionSuffix:"recommendation info icon"}},l=e=>{i().trigger(a,e)}},27095:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"collection_sorted-carousel":["collections.designer.pcc.title","a11y.carousel.skiplink.backward","a11y.carousel.skiplink.forward","zalando.prodpres.reco.see_more"]}},90642:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(58013),i=n(12650),o=n.n(i),a=n(23558),c=n(82151),l=n(36506),s=n(7896),d=n(31461),u=n(22303),f=n.n(u),m=n(69226),v=n(812),h=n(5348),p=n(62003),b=n(68747),k=n(63222),E=n(36761),g=n(85234);var N={carousel:E.Epl,root:f()(k.J,b.c74,b.TcP,g.QS5),children:f()(k.p,b.T5m,b.tgj,b.J$$,b.fX,b.jbG),prev:f()(b.g3$),next:f()(b.qfZ)};const _=["children","ariaLive","touchDeviceNavigationEnabled"];var y=e=>{const{children:t,ariaLive:n,touchDeviceNavigationEnabled:r}=e,a=(0,d.Z)(e,_),[c,l]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{l((0,h.b1)())}),[]),o().createElement(m.ZP,(0,s.Z)({styles:N},a),o().createElement(v.Z,{ariaLive:n},t),(r||!c)&&o().createElement(p.Z,null))},w=n(35847);const Z={contentRow:b.O7B,contentGrid:b.c74,contentHeader:f()(g.qAF,g.TUk),contentText:f()(b.T5m,b.ZCY)},I=["children","className","header","carousel","onNextClickCarousel","onPrevClickCarousel","onScrollCarousel","onLinkClickHeader"];var T=e=>{const{children:t,className:n,header:r,carousel:i,onNextClickCarousel:a,onPrevClickCarousel:c,onScrollCarousel:l,onLinkClickHeader:u}=e,m=(0,d.Z)(e,I),{contentRow:v,contentGrid:h,contentHeader:p,contentText:b}=Z;return o().createElement("div",(0,s.Z)({className:f()(n)},m),r&&o().createElement("div",{className:f()(p,h)},o().createElement("div",{className:v},o().createElement("div",{className:b},o().createElement(w.Z,Object.assign({},r,{onLinkClick:r.onLinkClick||u}))))),o().createElement(y,Object.assign({},i,{onNext:i.onNext||a,onPrev:i.onPrev||c,onScroll:i.onScroll||l}),t))},x=n(20973),C=n(56926);var L=n(76172);var O=n(5008),S=n(88099);var R=(0,c.tile)().withQueries((e=>{const t=(0,L.yJ)(e);return{data:{query:a,variables:{...t}}}})).withTracking((e=>({def:x.def,context:{id:e.entity.id}}))).withProcessDependencies(((e,t)=>{let{data:n}=e,{ruleData:r}=t;var i;const o=n.collection,a=n.brand,c=Boolean(r.showRsVisibilityInfo),l=Boolean(r.showRecommenderLabel);if(!o)return{action:"error",message:"The carousel does not exist"};const s=(null==o||null==(i=o.entities)?void 0:i.edges)||[];if(0===s.length)return{action:"error",message:"The carousel does not have any collection"};if(s.length<L.ll)return{action:"error",message:"The carousel has less than "+L.ll+" collections"};const d=null==s?void 0:s.map((e=>{let{node:t}=e;return{id:(null==t?void 0:t.id)||""}}));return{action:"render",data:{collection:o,brand:a,showRsVisibilityInfo:c,showRecommenderLabel:l},tiles:{entities:d}}})).withRenderTile((e=>{let{tileToRender:t,entity:n}=e;return i.createElement("div",{"data-entity-id":n.id,"data-re-hints":n.hints},t)})).withRender((e=>{var t,n;const{context:{experience:o},data:{collection:a,brand:s,showRecommenderLabel:d,showRsVisibilityInfo:u},tiles:{entities:f},tools:m,entity:v}=e,h=function(e){return()=>{const t={name:C.tP};e.tracking.track(t)}}(m),p=function(e,t){return()=>{const n={name:C.eF,context:{customActionSuffix:"show",customLabel:(0,L.MQ)(t)}};e.tracking.track(n)}}(m,v.id),b=d&&u,k=(0,S.T)(o).experienceName.isDesigner();let E=a.title||"";(null==s?void 0:s.name)&&(E=(k?__("collections.designer.pcc.title"):E)+" "+s.name);const g=(0,l.Z)({collection:{...a,title:E,subtitle:k?null:a.subtitle,uri:(null==(t=a.cta)?void 0:t.uri)||""}},{labels:{skipBackward:__("a11y.carousel.skiplink.backward"),skipForward:__("a11y.carousel.skiplink.forward"),seeMoreLink:(null==(n=a.cta)?void 0:n.text)||__("zalando.prodpres.reco.see_more")}});if(b&&a.visibility&&"RecommendationVisibility"===a.visibility.__typename&&a.visibility.visibilityInfo&&g.header){const e=a.visibility.visibilityInfo.id;g.header={...g.header,onInfoClick:()=>{(0,O.gy)({visibilityInfoId:e});const t={name:C.eF,context:{customActionSuffix:"recommendation info icon"}};m.tracking.track(t)}}}return i.createElement(i.Fragment,null,i.createElement(c.ViewTracker,null,i.createElement(T,(0,r.Z)({},g,{onNextClickCarousel:h,onPrevClickCarousel:h,onScrollCarousel:h,onLinkClickHeader:p}),f)))}))},23558:function(e){e.exports={id:"572e96fa6a9dab4fd011a15452284516c614679db94d9b274e83145e1c36c6ff"}},22303:function(t){"use strict";t.exports=e},12650:function(e){"use strict";e.exports=t},82151:function(e){"use strict";e.exports=n},37798:function(e){"use strict";e.exports=r},76917:function(e){"use strict";e.exports=JSON.parse('{"id":"a31221900a2accf70cc3c67b42555ebad086a66f06e528dca8201a82b0656952"}')}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[2782],(function(){return t(27095),t(90642)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_sorted-carousel/index-3fcb9b5ffa2405fd6123.map