"use strict";define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,n,t,r,o){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[3867],{4609:function(e,n,t){t.d(n,{F:function(){return w},Z:function(){return F}});var r={};t.r(r),t.d(r,{close:function(){return x},communication:function(){return h},communicationRow:function(){return g},inline:function(){return v},overlay:function(){return Z},rowPaddingLeft:function(){return E},rowPaddingRight:function(){return b}});var o=t(7896),a=t(31461),i=t(22303),c=t.n(i),l=t(12650),s=t.n(l),u=t(51535),m=t(72279),f=t(98376),d=t(56766),p=t(60238),h="z9BL8K Z1Xqqm _8xiD-i Vjx5XV _0--MrG yhE5OJ _7-ncAO",g="q84f1m snL7ze",E="sKmkSN",b="pMa0tB",v="snL7ze",Z="_4iu4Kj mo6ZnF",x="_3ETRgC Md_Vex _9ia6Xz LkH0Rh _2ZBgf",C=t(14863);const k=["children","className","labels","type","isDismissable","onClose"],L=["className","snapLeft","snapRight","withoutPadding","children"],w=e=>{const{className:n,snapLeft:t=!1,snapRight:r=!1,withoutPadding:i=!1,children:l}=e,u=(0,a.Z)(e,L),m=(0,C.B)(w,e);return s().createElement(m,(0,o.Z)({className:c()(n,g,!i&&[!t&&E,!r&&b])},u),l)};var F=e=>{const{children:n,className:t,labels:i={close:"close"},type:l="inline",isDismissable:g=!1,onClose:E=(()=>null)}=e,b=(0,a.Z)(e,k);return s().createElement("div",(0,o.Z)({className:c()(t,h,r[l])},b),g&&s().createElement(u.Z,{"aria-label":i&&i.close,tabIndex:0,preset:m.Wn.transparent,className:c()(p.root,x),onClick:E},s().createElement(d.Z,{src:f.Z})),n)}},19935:function(e,n,t){var r=t(50428);n.ZP=r.Z},92007:function(e,n,t){t.d(n,{f:function(){return h}});var r=t(22100),o=t(12650),a=t.n(o),i=t(17029),c=t(59660),l=t(30),s=t(12729),u=t(2651);class m extends a().Component{componentDidCatch(){this.setState({hasError:!0})}render(){const{root:e}=this;return this.state.hasError?null:this.state.notifications.map((n=>(0,s.createPortal)(n,e)))}constructor(e){super(e),this.root=void 0,this.state={hasError:!1,notifications:[]},this.root=(0,c.Z)(u.V,l.notificationRenderer)}}let f,d;const p=e=>{if(!d)return;const n=[...d.state.notifications,e];d.setState({notifications:n})};class h{}h.show=e=>{f||(f=(0,i.s)((0,c.Z)("z-notification-manager-root-"+(0,r.s)()))),f&&(d?p(e):f.render(a().createElement(m,{ref:n=>{d=n,p(e)}})))}},20425:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(82151),o=t(12650),a=t(37798),i=t.n(a),c=t(92007);const l=(e,n)=>(t,r)=>e.track({name:t,context:{brands:n,customActionSuffix:r,customLabel:"notification.follow"}});var s=t(58013),u=t(16197),m=t(23087),f=t(47078),d=t(20449),p=t(4609),h=t(19935),g=t(57575),E=t(14381),b=t(22303),v=t.n(b);const Z=e=>{let{title:n,description:t,imageUrl:r,largeImageUrl:a,ctaLabel:i,ctaLink:c,isMobile:l=!1,onClose:s,onCtaClick:b}=e;return o.createElement(p.Z,{style:{borderColor:"#D0D1D3"},type:"overlay",isDismissable:!0,onClose:s,className:v()({[g.GYS]:l,[E.eD]:l,[E._u]:l})},o.createElement(p.F,null,o.createElement(u.ZP,{preset:m.j3.h4},n)),l&&o.createElement(p.F,{snapLeft:!0,snapRight:!0},o.createElement(h.ZP,{className:f.BH,alt:"logo",src:r,srcSet:r+", "+a+" 2x"})),o.createElement(p.F,null,o.createElement(u.ZP,null,t)),!l&&o.createElement(p.F,null,o.createElement(h.ZP,{className:f.BH,alt:"logo",src:r,srcSet:r+", "+a+" 2x"})),o.createElement(p.F,null,o.createElement(d.Z,{href:c,onClick:b},i)))};var x=t(56926),C=t(85234);const k=e=>{let{notificationData:n,isMobile:t=!1,track:r}=e;const[a,i]=o.useState(!0),c=o.useRef(null);o.useEffect((()=>{r&&r(x.xW),l.current&&(c.current=document.activeElement,l.current.focus())}),[]);const l=o.useRef(null),u=()=>{var e;i(!1),r&&r(x.eF,"close"),null==(e=c.current)||e.focus()};return a?o.createElement("div",{className:C.ZsJ,style:{outline:"none"},ref:l,tabIndex:-1,role:"presentation",onKeyDown:e=>{"Escape"===e.code&&u()}},o.createElement(Z,(0,s.Z)({},n,{isMobile:t,onClose:u,onCtaClick:()=>{r&&r(x.eF,"learn more")}}))):null},L="FOLLOW_CUSTOM_NOTIFICATION";var w,F;var N=(0,r.tile)().withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withRender((e=>{const{context:{deviceInfo:n},tools:{tracking:t}}=e,r=o.useCallback((e=>{var r,a,i,s,u,m;e.communicationOnFollow&&c.f.show(o.createElement(k,{isMobile:n.isMobile,notificationData:(a=e.communicationOnFollow,{title:a.title,description:null!=(w=a.text)?w:"",imageUrl:a.bannerImage.uri,largeImageUrl:a.bannerImageLarge.uri,ctaLabel:null!=(F=null==(i=a.cta)?void 0:i.text)?F:"",ctaLink:(null==(s=a.cta)?void 0:s.uri)?(m=null==(u=a.cta)?void 0:u.uri,m.replace(/\/+$/,"")+"/?redirect_url="+encodeURIComponent(window.location.href)):""}),track:l(t,null==(r=e.brandFamily)?void 0:r.brands)}))}),[n.isMobile,t]);return o.useEffect((()=>(i().on(L,r),()=>i().off(L,r))),[r]),null}))},22303:function(n){n.exports=e},12650:function(e){e.exports=n},12729:function(e){e.exports=t},82151:function(e){e.exports=r},37798:function(e){e.exports=o}},function(e){return e.O(0,[2782],(function(){return n=20425,e(e.s=n);var n})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_follow-brand-notification/index-63aa10f1f5394c0c9bd4.map